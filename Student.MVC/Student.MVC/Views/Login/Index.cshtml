
@{
    Layout = null;
}

<!DOCTYPE html>

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>学生管理系统用户登录</title>
    <link href="~/css/login.css" rel="stylesheet" />
    <script src="~/JS/jquery-1.7.2.js"></script>
    <script src="~/JS/jquery-1.8.2.min.js"></script>
    <script src="~/JS/jquery1.42.min.js"></script>
    <script src="~/JS/jquery.SuperSlide.js"></script>
    <script src="~/JS/Validform_v5.3.2_min.js"></script>
    <script type="text/javascript">
            $(document).ready(function () {
                var $tab_li = $('#tab ul li');
                $tab_li.hover(function () {
                    $(this).addClass('selected').siblings().removeClass('selected');
                    var index = $tab_li.index(this);
                    $('div.tab_box > div').eq(index).show().siblings().hide();
                });
            });
    </script>
    <script type="text/javascript">
        $(function () {
            /*学生登录信息验证*/
            $("#stu_username_hide").focus(function () {
                var username = $(this).val();
                if (username == '输入学号') {
                    $(this).val('');
                }
            });
            $("#stu_username_hide").focusout(function () {
                var username = $(this).val();
                if (username == '') {
                    $(this).val('输入学号');
                }
            });
            $("#stu_password_hide").focus(function () {
                var username = $(this).val();
                if (username == '输入密码') {
                    $(this).val('');
                }
            });
            $("#stu_password_hide").focusout(function () {
                var username = $(this).val();
                if (username == '') {
                    $(this).val('输入密码');
                }
            });
            $("#stu_code_hide").focus(function () {
                var username = $(this).val();
                if (username == '输入验证码') {
                    $(this).val('');
                }
            });
            $("#stu_code_hide").focusout(function () {
                var username = $(this).val();
                if (username == '') {
                    $(this).val('输入验证码');
                }
            });
            $(".stu_login_error").Validform({
                tiptype: function (msg, o, cssctl) {
                    var objtip = $(".stu_error_box");
                    cssctl(objtip, o.type);
                    objtip.text(msg);
                },
                ajaxPost: true
            });
            /*老师登录信息验证*/
            $("#tea_username_hide").focus(function () {
                var username = $(this).val();
                if (username == '输入教工号') {
                    $(this).val('');
                }
            });
            $("#tea_username_hide").focusout(function () {
                var username = $(this).val();
                if (username == '') {
                    $(this).val('输入教工号');
                }
            });
            $("#tea_password_hide").focus(function () {
                var username = $(this).val();
                if (username == '输入密码') {
                    $(this).val('');
                }
            });
            $("#tea_password_hide").focusout(function () {
                var username = $(this).val();
                if (username == '') {
                    $(this).val('输入密码');
                }
            });
            $("#tea_code_hide").focus(function () {
                var username = $(this).val();
                if (username == '输入验证码') {
                    $(this).val('');
                }
            });
            $("#tea_code_hide").focusout(function () {
                var username = $(this).val();
                if (username == '') {
                    $(this).val('输入验证码');
                }
            });
            $(".tea_login_error").Validform({
                tiptype: function (msg, o, cssctl) {
                    var objtip = $(".tea_error_box");
                    cssctl(objtip, o.type);
                    objtip.text(msg);
                },
                ajaxPost: true
            });
            /*教务登录信息验证*/
            $("#sec_username_hide").focus(function () {
                var username = $(this).val();
                if (username == '输入教务号') {
                    $(this).val('');
                }
            });
            $("#sec_username_hide").focusout(function () {
                var username = $(this).val();
                if (username == '') {
                    $(this).val('输入教务号');
                }
            });
            $("#sec_password_hide").focus(function () {
                var username = $(this).val();
                if (username == '输入密码') {
                    $(this).val('');
                }
            });
            $("#sec_password_hide").focusout(function () {
                var username = $(this).val();
                if (username == '') {
                    $(this).val('输入密码');
                }
            });
            $("#sec_code_hide").focus(function () {
                var username = $(this).val();
                if (username == '输入验证码') {
                    $(this).val('');
                }
            });
            $("#sec_code_hide").focusout(function () {
                var username = $(this).val();
                if (username == '') {
                    $(this).val('输入验证码');
                }
            });
            $(".sec_login_error").Validform({
                tiptype: function (msg, o, cssctl) {
                    var objtip = $(".sec_error_box");
                    cssctl(objtip, o.type);
                    objtip.text(msg);
                },
                ajaxPost: true
            });
        });
    </script>
    <script type="text/javascript">
        $(function () {
            $(".screenbg ul li").each(function () {
                $(this).css("opacity", "0");
            });
            $(".screenbg ul li:first").css("opacity", "1");
            var index = 0;
            var t;
            var li = $(".screenbg ul li");
            var number = li.size();
            function change(index) {
                li.css("visibility", "visible");
                li.eq(index).siblings().animate({ opacity: 0 }, 3000);
                li.eq(index).animate({ opacity: 1 }, 3000);
            }
            function show() {
                index = index + 1;
                if (index <= number - 1) {
                    change(index);
                }
                else {
                    index = 0;
                    change(index);
                }
            }
            t = setInterval(show, 4000);
            //根据窗口宽度生成图片宽度
            var width = $(window).width();
            $(".screenbg ul img").css("width", width + "px");
        });
    </script>
</head>

<body>
    <div id="tab">
        <ul class="tab_menu">
            <li class="selected">学生登录</li>
            <li>老师登录</li>
            <li>教务登录</li>
        </ul>
        <div class="tab_box">
            <!-- 学生登录开始 -->
            <div>
                <div class="stu_error_box"></div>
                <form action="" method="post" class="stu_login_error">
                    <div id="username">
                        <label>学&nbsp;&nbsp;&nbsp;号：</label>
                        <input type="text" id="stu_username_hide" name="username" value="输入学号" nullmsg="学号不能为空！" datatype="s6-6" errormsg="学号是六位数！" sucmsg="学号验证通过！" />
                        <!--ajaxurl="demo/valid.jsp"-->
                    </div>
                    <div id="password">
                        <label>密&nbsp;&nbsp;&nbsp;码：</label>
                        <input type="password" id="stu_password_hide" name="password" value="输入密码" nullmsg="密码不能为空！" datatype="*4-4" errormsg="密码是四位数！" sucmsg="密码验证通过！" />
                    </div>
                    <div id="code">
                        <label>验证码：</label>
                        <input type="text" id="stu_code_hide" name="code" value="输入验证码" nullmsg="验证码不能为空！" datatype="*4-4" errormsg="验证码有4位数！" sucmsg="验证码验证通过！" />
                        <img src="~/images/captcha.jpg" title="点击更换" alt="验证码占位图" />
                    </div>
                    <div id="remember">
                        <input type="checkbox" name="remember">
                        <label>记住密码</label>
                    </div>
                    <div id="login">
                        <button id="denglu1" type="button">登录</button>
                    </div>
                </form>
            </div>
            <!-- 学生登录结束-->
            <!-- 导师登录开始-->
            <div class="hide">
                <div class="tea_error_box"></div>
                <form action="" method="post" class="tea_login_error">
                    <div id="username">
                        <label>教工号：</label>
                        <input type="text" id="tea_username_hide" name="username" value="输入教工号" nullmsg="教工号不能为空！" datatype="s6-6" errormsg="教工号是六位数！" sucmsg="教工号验证通过！" />
                        <!--ajaxurl="demo/valid.jsp"-->
                    </div>
                    <div id="password">
                        <label>密&nbsp;&nbsp;&nbsp;码：</label>
                        <input type="password" id="tea_password_hide" name="password" value="输入密码" nullmsg="密码不能为空！" datatype="*4-4" errormsg="密码是四位数！" sucmsg="密码验证通过！" />
                    </div>
                    <div id="code">
                        <label>验证码：</label>
                        <input type="text" id="tea_code_hide" name="code" value="输入验证码" nullmsg="验证码不能为空！" datatype="*4-4" errormsg="验证码有4位数！" sucmsg="验证码验证通过！" />
                        <span><img src="~/images/captcha.jpg" title="点击更换" alt="验证码占位图" /></span>
                    </div>
                    <div id="remember">
                        <input type="checkbox" name="remember">
                        <label>记住密码</label>
                    </div>
                    <div id="login">
                        <button id="denglu2" type="button">登录</button>
                    </div>
                </form>
            </div>
            <!-- 导师登录结束-->
            <!-- 教务登录开始-->
            <div class="hide">
                <div class="sec_error_box"></div>
                <form action="" method="post" class="sec_login_error">
                    <div id="username">
                        <label>教务号：</label>
                        <input type="text" id="sec_username_hide" name="username" value="输入教务号" nullmsg="教务号不能为空！" datatype="s6-6" errormsg="教务号是六位数！" sucmsg="教务号验证通过！" />
                        <!--ajaxurl="demo/valid.jsp"-->
                    </div>
                    <div id="password">
                        <label>密&nbsp;&nbsp;&nbsp;码：</label>
                        <input type="password" id="sec_password_hide" name="password" value="输入密码" nullmsg="密码不能为空！" datatype="*4-4" errormsg="密码是四位数！" sucmsg="密码验证通过！" />
                    </div>
                    <div id="code">
                        <label>验证码：</label>
                        <input type="text" id="sec_code_hide" name="code" value="输入验证码" nullmsg="验证码不能为空！" datatype="*4-4" errormsg="验证码有4位数！" sucmsg="验证码验证通过！" />
                        <img src="~/images/captcha.jpg" title="点击更换" alt="验证码占位图" />
                    </div>
                    <div id="remember">
                        <input type="checkbox" name="remember">
                        <label>记住密码</label>
                    </div>
                    <div id="login">
                        <button id="denglu3" type="button">登录</button>
                    </div>
                </form>
            </div>
            <!-- 教务登录结束-->
        </div>
    </div>
    <div class="screenbg">
        <ul>
            <li><a href="javascript:;"><img src="~/images/1.jpg"></a></li>
            <li><a href="javascript:;"><img src="~/images/0.jpg"></a></li>
            <li><a href="javascript:;"><img src="~/images/22.jpg"></a></li>
        </ul>
    </div>
    <script type="text/javascript">
        $(function () {
            $("#denglu1").click(function () {
                var id = $("#stu_username_hide").val();
                var password = $("#stu_password_hide").val();
                $.ajax({
                    url: "/Login/GetJsonLogin",
                    data: { "id": id, "password": password },
                    dataType: "json",
                    type: "post",
                    success: function (result) {
                        if (result == 0) {
                            alert("cuowu");
                        } else if (result.Data.data != null) {
                            window.location.pathname = "/Student/Index";
                        }
                    }
                })
            })
        })
    </script>
</body>
</html>
